# Notes (Nuxt 3 SPA)

Небольшое SPA на Nuxt 3 (nuxt@3.20.x, `experimental.appManifest` выключен) для заметок с задачами (todos). Pinia хранит данные и синхронизирует их в `localStorage`, так что русские названия и тексты задач сохраняются после перезагрузки. Есть undo/redo, модальные подтверждения и работа полностью на клиенте (SSR выключен).

## Как запустить локально (npm)
1) Установить зависимости:
```bash
npm install
```
2) Запустить dev-сервер:
```bash
npm run dev
```
3) Открыть в браузере: http://localhost:3000/notes

## Как запустить через Docker
- В директории проекта выполните:
```bash
docker-compose up --build
```
- Это соберёт образ на базе `node:20-alpine`, установит зависимости и запустит `npm run dev -- --host 0.0.0.0 --port 3000` внутри контейнера.
- Открыть: http://localhost:3000/notes
- Остановить: `Ctrl+C`, затем при необходимости очистить контейнеры: `docker-compose down`.

> Что важно знать: контейнер использует hot-reload дев-сервера, но код берётся из контекста сборки — если меняете файлы, пересоберите `docker-compose up --build` либо настройте volume (по умолчанию не подключен, чтобы исключить кэш-проблемы).

## Возможности
- Список заметок с превью задач и подсказкой `+N ещё`.
- Создание, редактирование, удаление заметок; добавление/удаление/редактирование задач; отметка выполнено.
- Undo/redo кнопками или `Ctrl+Z` / `Ctrl+Shift+Z` (`Cmd` на macOS) во время редактирования.
- Модальные окна подтверждения без alert/confirm, с управлением клавиатурой (Esc).
- Стартовые данные на русском: «Список покупок», «Домашние дела».

## Структура
- `layouts` — общий каркас (заголовок + кнопка создания).
- `pages` — маршруты `/notes`, `/notes/new`, `/notes/:id`.
- `app/components/*` — атомы/молекулы/организмы (Input, Button, Modal, Card, TodoItem, List, Editor).
- `stores/notes.ts` — Pinia + `localStorage` с начальными данными.
- `composables/useNoteEditor.ts` — черновик заметки и стек undo/redo.
- `assets/styles/main.scss` — SCSS с BEM-классами.

## Мелочи поведения
- Кнопка «Отменить редактирование» отключена, пока нет изменений; Save отключён, если заголовок пуст или есть пустые задачи.
- Удаление/отмена всегда через модалку; Esc закрывает модалку.
- Header-клик по «Заметки» ведёт на список.
